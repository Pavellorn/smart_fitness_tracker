# ======== –ò–ú–ü–û–†–¢–´ =========
# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Kivy
from kivy.app import App                      # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
from kivy.uix.screenmanager import ScreenManager, Screen, SlideTransition  # –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞–º–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –º–µ–∂–¥—É –Ω–∏–º–∏
from kivy.uix.boxlayout import BoxLayout      # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Ä—è–¥ –∏–ª–∏ –∫–æ–ª–æ–Ω–∫—É
from kivy.uix.gridlayout import GridLayout    # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä-—Å–µ—Ç–∫–∞ –¥–ª—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—É
from kivy.uix.label import Label              # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –Ω–∞–¥–ø–∏—Å–∏
from kivy.uix.button import Button            # –ö–Ω–æ–ø–∫–∏
from kivy.uix.slider import Slider            # –ü–æ–ª–∑—É–Ω–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏–π
from kivy.uix.togglebutton import ToggleButton # –ö–Ω–æ–ø–∫–∞-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (–≤–∫–ª/–≤—ã–∫–ª)
from kivy.animation import Animation          # –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
from kivy.graphics import Color, Ellipse, Rectangle  # –î–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
from kivy.core.window import Window           # –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–∫–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—à–∏—Ä–∏–Ω–∞ 400px, –≤—ã—Å–æ—Ç–∞ 700px)
Window.size = (400, 700)

# ========= –ì–†–ê–î–ò–ï–ù–¢–ù–´–ô –§–û–ù =========
class GradientBackground(BoxLayout):
    """
    –ö–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º —Ñ–æ–Ω–æ–º.
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    """
    def __init__(self, **kwargs):
        # –í—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞
        super().__init__(**kwargs)
        # –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Ä–∞–∑–º–µ—Ä–∞ –∏–ª–∏ –ø–æ–∑–∏—Ü–∏–∏ –≤–∏–¥–∂–µ—Ç–∞
        self.bind(size=self._update_bg, pos=self._update_bg)

    def _update_bg(self, *args):
        """
        –ú–µ—Ç–æ–¥ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Ñ–æ–Ω–∞.
        –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –≤–∏–¥–∂–µ—Ç–∞.
        """
        # –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ canvas (–æ–±–ª–∞—Å—Ç—å –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è)
        self.canvas.before.clear()
        # –ù–∞—á–∏–Ω–∞–µ–º —Ä–∏—Å–æ–≤–∞–Ω–∏–µ –Ω–∞ canvas
        with self.canvas.before:
            # –ö–∞–∫ –≤ –¢–ó —Ü–≤–µ—Ç #f8f9fa
            Color(0.9725, 0.9765, 0.9804, 1)  # R, G, B, Alpha
            Rectangle(pos=self.pos, size=self.size)
            
# ========= –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–´–ô –ö–†–£–ì =========
class AnimatedCircle(Button):
    """
    –ö–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏ –≤ –≤–∏–¥–µ –∫—Ä—É–≥–∞.
    –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø—É–ª—å—Å–∏—Ä—É—é—â—É—é –∞–Ω–∏–º–∞—Ü–∏—é.
    """
    def __init__(self, **kwargs):
        # –í—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞
        super().__init__(**kwargs)
        # –î–µ–ª–∞–µ–º —Ñ–æ–Ω –∫–Ω–æ–ø–∫–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º (—á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–π –∫—Ä—É–≥)
        self.background_color = (0, 0, 0, 0)  # R,G,B,A - –≤—Å–µ –Ω—É–ª–∏ (–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π)
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
        self.text = "0 %"
        # –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –æ—Ç—Ä–∏—Å–æ–≤–∫—É –∫—Ä—É–≥–∞ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é –ø–æ–∑–∏—Ü–∏–∏ –∏–ª–∏ —Ä–∞–∑–º–µ—Ä–∞
        self.bind(pos=self._draw, size=self._draw)
        
        # –°–æ–∑–¥–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø—É–ª—å—Å–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞
        # –ê–Ω–∏–º–∞—Ü–∏—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞
        anim_up = Animation(font_size=36, duration=0.3)  # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–æ 36 –∑–∞ 0.3 —Å–µ–∫—É–Ω–¥—ã
        # –ê–Ω–∏–º–∞—Ü–∏—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞
        anim_down = Animation(font_size=28, duration=0.3)  # –£–º–µ–Ω—å—à–∞–µ–º –¥–æ 28 –∑–∞ 0.3 —Å–µ–∫—É–Ω–¥—ã
        # –û–±—ä–µ–¥–∏–Ω—è–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ + —É–º–µ–Ω—å—à–µ–Ω–∏–µ)
        self.anim = anim_up + anim_down
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏
        self.anim.repeat = True
        # –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
        self.anim.start(self)

    def _draw(self, *args):
        """
        –ú–µ—Ç–æ–¥ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫—Ä—É–≥–∞ —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.
        –†–∏—Å—É–µ—Ç –±–∞–∑–æ–≤—ã–π –∫—Ä—É–≥ –∏ "–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é" —á–∞—Å—Ç—å.
        """
        # –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ canvas
        self.canvas.before.clear()
        # –ù–∞—á–∏–Ω–∞–µ–º —Ä–∏—Å–æ–≤–∞–Ω–∏–µ
        with self.canvas.before:
            # –†–∏—Å—É–µ–º –±–∞–∑–æ–≤—ã–π –∫—Ä—É–≥ (—Ñ–æ–Ω)
            Color(0.2, 0.4, 0.6, 1)  # –°–∏–Ω–µ–≤–∞—Ç—ã–π —Ü–≤–µ—Ç
            Ellipse(pos=self.pos, size=self.size)  # –≠–ª–ª–∏–ø—Å, –≤–ø–∏—Å–∞–Ω–Ω—ã–π –≤ —Ä–∞–∑–º–µ—Ä—ã –≤–∏–¥–∂–µ—Ç–∞
            
            # –†–∏—Å—É–µ–º "–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é" —á–∞—Å—Ç—å (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)
            Color(0.3, 0.9, 0.3, 1)  # –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
            # –†–∏—Å—É–µ–º —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –∫—Ä—É–≥–∞ (–∏–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ 50%)
            Ellipse(pos=self.pos, size=(self.width, self.height * 0.5))

# ========= –≠–ö–†–ê–ù –¢–†–ï–ù–ò–†–û–í–ö–ò =========
class TrainingScreen(Screen):
    """
    –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - —ç–∫—Ä–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.
    –°–æ–¥–µ—Ä–∂–∏—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—Ä—É–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏.
    """
    def __init__(self, **kwargs):
        # –í—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞
        super().__init__(**kwargs)
        
        # –°–æ–∑–¥–∞–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º —Ñ–æ–Ω–æ–º
        # orientation='vertical' - —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ
        # padding=20 - –æ—Ç—Å—Ç—É–ø—ã –æ—Ç –∫—Ä–∞–µ–≤ 20 –ø–∏–∫—Å–µ–ª–µ–π
        # spacing=20 - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ 20 –ø–∏–∫—Å–µ–ª–µ–π
        root = GradientBackground(orientation='vertical', padding=20, spacing=20)

        # –°–æ–∑–¥–∞–µ–º –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —ç–∫—Ä–∞–Ω–∞
        # size_hint_y=0.1 - –∑–∞–Ω–∏–º–∞–µ—Ç 10% –≤—ã—Å–æ—Ç—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        root.add_widget(Label(text='–¢–†–ï–ù–ò–†–û–í–ö–ê', font_size=32,
                              color=(1, 1, 1, 1), bold=True, size_hint_y=0.1))

        # –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫—Ä—É–≥–∞
        circle_box = BoxLayout(size_hint_y=0.5)  # –ó–∞–Ω–∏–º–∞–µ—Ç 50% –≤—ã—Å–æ—Ç—ã
        
        # –°–æ–∑–¥–∞–µ–º –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—Ä—É–≥
        # size_hint=(None, None) - –æ—Ç–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
        # size=(200, 200) - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä 200x200 –ø–∏–∫—Å–µ–ª–µ–π
        circle = AnimatedCircle(size_hint=(None, None), size=(200, 200))
        # –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫—Ä—É–≥ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
        circle.pos_hint = {'center_x': 0.5}  # 0.5 –æ–∑–Ω–∞—á–∞–µ—Ç 50% –æ—Ç —à–∏—Ä–∏–Ω—ã —Ä–æ–¥–∏—Ç–µ–ª—è
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä—É–≥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
        circle_box.add_widget(circle)
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫—Ä—É–≥–æ–º –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
        root.add_widget(circle_box)

        # –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤—ã–±–æ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
        buttons = BoxLayout(spacing=10, size_hint_y=0.2)  # –ó–∞–Ω–∏–º–∞–µ—Ç 20% –≤—ã—Å–æ—Ç—ã, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ 10px –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏ —Å —Ä–∞–∑–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∏ —Ü–≤–µ—Ç–∞–º–∏
        buttons.add_widget(Button(text='30 –º–∏–Ω', background_color=(0.2, 0.8, 0.2, 1)))  # –ó–µ–ª–µ–Ω–∞—è
        buttons.add_widget(Button(text='60 –º–∏–Ω', background_color=(1, 0.5, 0, 1)))      # –û—Ä–∞–Ω–∂–µ–≤–∞—è
        buttons.add_widget(Button(text='90 –º–∏–Ω', background_color=(0.8, 0.2, 0.2, 1)))  # –ö—Ä–∞—Å–Ω–∞—è
        root.add_widget(buttons)

        # –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å—Ç—Ä–µ–ª–æ–∫
        arrows = BoxLayout(size_hint_y=0.1)  # –ó–∞–Ω–∏–º–∞–µ—Ç 10% –≤—ã—Å–æ—Ç—ã
        
        # –°–æ–∑–¥–∞–µ–º –ª–µ–≤—É—é —Å—Ç—Ä–µ–ª–∫—É (–ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º)
        left = Button(text='<--', font_size=30)
        # –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –Ω–∞–∂–∞—Ç–∏—è –∫ —Å–º–µ–Ω–µ —ç–∫—Ä–∞–Ω–∞
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º setattr –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ current –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —ç–∫—Ä–∞–Ω–æ–≤
        left.bind(on_press=lambda *_: setattr(self.manager, 'current', 'settings'))
        
        # –°–æ–∑–¥–∞–µ–º –ø—Ä–∞–≤—É—é —Å—Ç—Ä–µ–ª–∫—É (–ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ)
        right = Button(text='-->', font_size=30)
        right.bind(on_press=lambda *_: setattr(self.manager, 'current', 'stats'))
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–µ–ª–∫–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
        arrows.add_widget(left)
        arrows.add_widget(right)
        root.add_widget(arrows)

        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —ç–∫—Ä–∞–Ω
        self.add_widget(root)

# ========= –≠–ö–†–ê–ù –°–¢–ê–¢–ò–°–¢–ò–ö–ò =========
class StatsScreen(Screen):
    """
    –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –Ω–µ–¥–µ–ª—é.
    –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—É–º–º–∞—Ä–Ω–æ–µ –≤—Ä–µ–º—è –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–Ω—è–º.
    """
    def __init__(self, **kwargs):
        # –í—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞
        super().__init__(**kwargs)
        
        # –°–æ–∑–¥–∞–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º —Ñ–æ–Ω–æ–º
        root = GradientBackground(orientation='vertical', padding=20, spacing=10)

        # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —ç–∫—Ä–∞–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        root.add_widget(Label(text='üìä –ó–ê –ù–ï–î–ï–õ–Æ', font_size=28,
                              color=(1, 1, 1, 1), bold=True, size_hint_y=0.1))
        
        # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∑–∞ –Ω–µ–¥–µ–ª—é
        root.add_widget(Label(text='12—á 30–º–∏–Ω üèÜ', font_size=32,
                              color=(1, 0.9, 0.2, 1), size_hint_y=0.1))

        # –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
        days = GridLayout(cols=7, size_hint_y=0.3)  # 7 –∫–æ–ª–æ–Ω–æ–∫ (–ø–æ —á–∏—Å–ª—É –¥–Ω–µ–π), 30% –≤—ã—Å–æ—Ç—ã
        
        # –ù–∞–∑–≤–∞–Ω–∏—è –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
        names = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å']
        # –ó–Ω–∞—á–µ–Ω–∏—è (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏–ª–∏ –º–∏–Ω—É—Ç) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è
        vals  = ['5', '12', '8', '15', '20', '18', '25']
        
        # –°–æ–∑–¥–∞–µ–º —è—á–µ–π–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è
        for n, v in zip(names, vals):
            # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è —Å–æ–∑–¥–∞–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            box = BoxLayout(orientation='vertical')
            # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–Ω—è
            box.add_widget(Label(text=n, font_size=14))
            # –î–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
            box.add_widget(Label(text=v, font_size=14, color=(0.2, 0.8, 0.2, 1)))
            # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–Ω—è –≤ —Ç–∞–±–ª–∏—Ü—É
            days.add_widget(box)
        root.add_widget(days)

        # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª—É—á—à–µ–≥–æ –¥–Ω—è
        root.add_widget(Label(text='–õ—É—á—à–∏–π –¥–µ–Ω—å: –ü—è—Ç–Ω–∏—Ü–∞ 20—á',
                              font_size=16, color=(0.2, 0.8, 0.2, 1), size_hint_y=0.1))

        # –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
        back = Button(text='‚Üê –ù–∞–∑–∞–¥', size_hint=(0.4, 0.1),  # 40% —à–∏—Ä–∏–Ω—ã, 10% –≤—ã—Å–æ—Ç—ã
                      pos_hint={'center_x': 0.5})  # –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
        # –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –Ω–∞–∂–∞—Ç–∏—è –∫ —Å–º–µ–Ω–µ —ç–∫—Ä–∞–Ω–∞ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π
        back.bind(on_press=lambda *_: setattr(self.manager, 'current', 'main'))
        root.add_widget(back)

        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —ç–∫—Ä–∞–Ω
        self.add_widget(root)

# ========= –≠–ö–†–ê–ù –ù–ê–°–¢–†–û–ï–ö =========
class SettingsScreen(Screen):
    """
    –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ª—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Ç–µ–º—É.
    """
    def __init__(self, **kwargs):
        # –í—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞
        super().__init__(**kwargs)
        
        # –°–æ–∑–¥–∞–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º —Ñ–æ–Ω–æ–º
        root = GradientBackground(orientation='vertical', padding=20, spacing=20)

        # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —ç–∫—Ä–∞–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        root.add_widget(Label(text='–ù–ê–°–¢–†–û–ô–ö–ò', font_size=32,
                              color=(1, 1, 1, 1), bold=True, size_hint_y=0.1))

        # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        box = BoxLayout(orientation='vertical', spacing=20, size_hint_y=0.6)  # 60% –≤—ã—Å–æ—Ç—ã

        # ----- –ù–ê–°–¢–†–û–ô–ö–ê –¶–ï–õ–ò (—Å–ª–∞–π–¥–µ—Ä) -----
        goal = BoxLayout(orientation='vertical')
        goal.add_widget(Label(text='–¶–µ–ª—å (–º–∏–Ω/–Ω–µ–¥–µ–ª—è):', font_size=18))
        # –°–ª–∞–π–¥–µ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç 100 –¥–æ 500, –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 300
        goal.add_widget(Slider(min=100, max=500, value=300))
        box.add_widget(goal)

        # ----- –ù–ê–°–¢–†–û–ô–ö–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å) -----
        notify = BoxLayout(orientation='vertical')
        notify.add_widget(Label(text='–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:', font_size=18))
        # ToggleButton - –∫–Ω–æ–ø–∫–∞ —Å –¥–≤—É–º—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ (–Ω–∞–∂–∞—Ç–∞/–æ—Ç–∂–∞—Ç–∞)
        # state='down' - –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤–∫–ª—é—á–µ–Ω–∞
        notify.add_widget(ToggleButton(text='ON', state='down'))
        box.add_widget(notify)

        # ----- –ù–ê–°–¢–†–û–ô–ö–ê –¢–ï–ú–´ (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å) -----
        theme = BoxLayout(orientation='vertical')
        theme.add_widget(Label(text='–¢–µ–º–∞:', font_size=18))
        theme.add_widget(ToggleButton(text='–¢—ë–º–Ω–∞—è'))  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω–∞
        box.add_widget(theme)

        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
        root.add_widget(box)

        # ----- –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø -----
        btns = BoxLayout(size_hint_y=0.15, spacing=10)  # 15% –≤—ã—Å–æ—Ç—ã
        btns.add_widget(Button(text='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å', background_color=(0.2, 0.6, 0.2, 1)))  # –ó–µ–ª–µ–Ω–∞—è
        btns.add_widget(Button(text='–°–±—Ä–æ—Å–∏—Ç—å', background_color=(0.8, 0.2, 0.2, 1)))   # –ö—Ä–∞—Å–Ω–∞—è
        root.add_widget(btns)

        # ----- –ö–ù–û–ü–ö–ê –í–û–ó–í–†–ê–¢–ê -----
        back = Button(text='‚Üê –ù–∞–∑–∞–¥', size_hint=(0.4, 0.1),  # 40% —à–∏—Ä–∏–Ω—ã, 10% –≤—ã—Å–æ—Ç—ã
                      pos_hint={'center_x': 0.5})  # –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
        # –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –Ω–∞–∂–∞—Ç–∏—è –∫ —Å–º–µ–Ω–µ —ç–∫—Ä–∞–Ω–∞ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π
        back.bind(on_press=lambda *_: setattr(self.manager, 'current', 'main'))
        root.add_widget(back)

        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —ç–∫—Ä–∞–Ω
        self.add_widget(root)

# ========= –ì–õ–ê–í–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï =========
class UIApp(App):
    """
    –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    –£–ø—Ä–∞–≤–ª—è–µ—Ç —ç–∫—Ä–∞–Ω–∞–º–∏ –∏ –∏—Ö –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º.
    """
    def build(self):
        """
        –ú–µ—Ç–æ–¥ build –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
        –î–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π –≤–∏–¥–∂–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
        """
        # –°–æ–∑–¥–∞–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä —ç–∫—Ä–∞–Ω–æ–≤ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–µ—Ä–µ—Ö–æ–¥–∞ (—Å–∫–æ–ª—å–∂–µ–Ω–∏–µ)
        sm = ScreenManager(transition=SlideTransition(duration=0.3))  # –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 0.3 —Å–µ–∫—É–Ω–¥—ã
        
        # –î–æ–±–∞–≤–ª—è–µ–º —ç–∫—Ä–∞–Ω—ã –≤ –º–µ–Ω–µ–¥–∂–µ—Ä —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
        sm.add_widget(TrainingScreen(name='main'))      # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
        sm.add_widget(StatsScreen(name='stats'))        # –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        sm.add_widget(SettingsScreen(name='settings'))  # –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
        
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä —ç–∫—Ä–∞–Ω–æ–≤ –∫–∞–∫ –∫–æ—Ä–Ω–µ–≤–æ–π –≤–∏–¥–∂–µ—Ç
        return sm

# ========= –¢–û–ß–ö–ê –í–•–û–î–ê =========
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é (–Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –º–æ–¥—É–ª—å)
if __name__ == '__main__':
    # –°–æ–∑–¥–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    UIApp().run()